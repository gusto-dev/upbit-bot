# Upbit bot environment example (safe defaults)
# Copy this file to .env and adjust values.

# Core
MODE=live
TF=5m
SYMBOL_CCXT=BTC/KRW
TRADE_COINS=

# Exchange keys (required for live mode)
TELEGRAM_TOKEN=
TELEGRAM_CHAT_ID=
UPBIT_API_KEY=
UPBIT_SECRET=

# Risk and sizing (optional; examples)
BASE_CAPITAL_KRW=500000
POS_PCT=0.12
FIXED_ENTRY_KRW=0
LIVE_MIN_ORDER_KRW=5000
TOT_EXPOSURE_GUARD_PCT=0.9
KILL_SWITCH=false

# Strategy basics
USE_REGIME_FILTER=true
BREAKOUT_LOOKBACK=6
BREAKOUT_TOL_BPS=15
ENTRY_SLIPPAGE_BPS=30

# Exits
TP1=0.012
TP2=0.022
TRAIL=-0.015
USE_BEP_AFTER_TP1=true

# Dynamic stop
USE_DYNAMIC_STOP=true
DYN_STOP_TIGHTEN_AFTER_TP1=true
DYN_STOP_BUFFER_BPS=80

# Bull-mode
BULL_MODE=auto
BULL_EMA_GAP_BPS=40
# Hysteresis and min-hold to reduce frequent toggling
BULL_EMA_GAP_ENTER_BPS=40
BULL_EMA_GAP_EXIT_BPS=25
BULL_MIN_HOLD_SEC=300
FLAT_MIN_HOLD_SEC=300
TP1_SELL_FRAC=0.5
TP1_SELL_FRAC_BULL=0.3
TP2_BULL=0.035
TRAIL_BULL=-0.03
ENTRY_SLIPPAGE_BPS_BULL=60
DYN_STOP_BUFFER_BPS_BULL=150
QUIET_HOUR_BULL_OVERRIDE=true

# Entry gates (conservative)
REQUIRE_BREAKOUT_CLOSE=true
REQUIRE_BREAKOUT_CLOSE_BULL=false
HOLD_ABOVE_BREAKOUT_MS=1500
HOLD_ABOVE_BREAKOUT_MS_BULL=500
MAX_BREAKOUT_EXTENSION_BPS=0
MAX_BREAKOUT_EXTENSION_BPS_BULL=80

# Higher timeframe and quality filters
USE_HTF_FILTER=true
HTF_TF=15m
HTF_EMA_FAST=20
HTF_EMA_SLOW=60
HTF_GAP_BPS=20
ATR_PERIOD=14
ATR_MAX_PCT=0.02
RSI_PERIOD=14
RSI_OVERBOUGHT=72
RSI_OVERBOUGHT_BULL=78
REQUIRE_DOUBLE_CLOSE=false

# News filter
USE_NEWS_FILTER=true
NEWS_FEEDS=https://www.coindeskkorea.com/rss/allArticle.xml,https://coinness.live/api/news/flash?format=rss
NEWS_NEGATIVE_KWS=급락,하락,규제,해킹,보이스피싱,점검,중단,상장폐지,의혹,금리,디파이,대규모,청산,청문,경고,제재,벌금,소송,파산,유동성,악재,dump,plunge,ban,regulation,hack,exploit,phishing,outage,halt,delist,investigation,warning,sanction,fine,lawsuit,bankruptcy,liquidity,liquidation,risk
NEWS_WINDOW_MIN=60
NEWS_BLOCK_IF_NEGATIVE_COUNT=3
NEWS_REFRESH_MIN=5
NEWS_FILTER_LOG_ONLY=false
NEWS_FILTER_DISABLE_IN_BULL=true
# Notification throttle (minutes) for cooldown messages
COOLDOWN_NOTICE_MIN=5
# NOTE: NEWS_BULL_DISABLE_LOG_MIN has been removed (event-based notifications now)

# Daily loss-based halt
# Halt new entries after N losing trades on the same KST day; 0 disables
HALT_AFTER_N_LOSSES=0
# If true, send the halt notice only once per day
HALT_NOTIFY_ONCE=true
